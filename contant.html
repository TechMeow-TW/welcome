<!doctype html>
<html lang="zh-TW" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¸‰å’Œæ£‰è¢«åº— San He - è¯çµ¡æˆ‘å€‘</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700&amp;display=swap" rel="stylesheet">
  <style>
    html, body, #app-wrapper {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
    }

    .font-serif-tc {
      font-family: 'Noto Serif TC', serif;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .animate-float {
      animation: float 3s ease-in-out infinite;
    }
    
    .animate-fade-in-up {
      animation: fadeInUp 0.6s ease-out forwards;
    }
    
    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }
    .delay-300 { animation-delay: 0.3s; }
    .delay-400 { animation-delay: 0.4s; }
    
    .cotton-pattern {
      background-image: 
        radial-gradient(circle at 20% 30%, rgba(255,255,255,0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(255,255,255,0.08) 0%, transparent 40%),
        radial-gradient(circle at 40% 80%, rgba(255,255,255,0.06) 0%, transparent 30%);
    }

    .content-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }

    input, textarea {
      border-radius: 8px !important;
    }

    input:focus, textarea:focus {
      outline: none !important;
    }

    .form-card {
      border-radius: 16px;
      overflow: hidden;
    }

    .form-card-header {
      border-radius: 16px 16px 0 0;
    }

    button {
      border-radius: 8px;
    }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full m-0 p-0">
  <div id="app-wrapper" class="h-full w-full overflow-auto" style="background-color: #2C3E50;">
   <div class="cotton-pattern w-full flex items-center justify-center min-h-full py-8">
    <div class="content-container"><!-- Floating Cotton Icon -->
     <div class="animate-float mb-8 opacity-0 animate-fade-in-up">
      <svg width="80" height="80" viewbox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="40" cy="35" r="12" fill="#F5E6D3" opacity="0.9" /> <circle cx="30" cy="40" r="10" fill="#F5E6D3" opacity="0.85" /> <circle cx="50" cy="40" r="10" fill="#F5E6D3" opacity="0.85" /> <circle cx="35" cy="48" r="9" fill="#F5E6D3" opacity="0.8" /> <circle cx="45" cy="48" r="9" fill="#F5E6D3" opacity="0.8" /> <circle cx="40" cy="42" r="8" fill="#F5E6D3" /> <path d="M40 55 L40 70 M38 58 L35 62 M42 58 L45 62" stroke="#8B7355" stroke-width="2" stroke-linecap="round" />
      </svg>
     </div><!-- Header -->
     <header class="text-center mb-8 opacity-0 animate-fade-in-up delay-100 w-full">
      <h1 id="shop-name" class="font-serif-tc text-4xl font-bold mb-3 leading-tight" style="color: #F5E6D3;">ä¸‰å’Œæ£‰è¢«åº— San He</h1>
      <p id="tagline" class="font-serif-tc text-base tracking-wider" style="color: #D4C4B0;">å‚³æ‰¿æº«æš–ãƒ»ç”¨å¿ƒè£½ä½œ</p>
     </header><!-- Contact Form Card -->
     <main class="w-full opacity-0 animate-fade-in-up delay-200">
      <div class="form-card shadow-2xl" style="background-color: #F5E6D3;"><!-- Card Header -->
       <div class="form-card-header px-6 py-5 text-center" style="background-color: #8B7355;">
        <h2 id="form-title" class="font-serif-tc text-xl font-semibold" style="color: #F5E6D3;">è¯çµ¡æˆ‘å€‘</h2>
        <p class="mt-2 text-xs" style="color: #D4C4B0;">ğŸ“§ sanhe@techmeow.tw</p>
       </div><!-- Form Body -->
       <div class="px-6 py-6">
        <form id="contact-form" class="space-y-4"><!-- Name Field -->
         <div class="opacity-0 animate-fade-in-up delay-200"><label for="name" class="block font-serif-tc text-sm font-medium mb-2" style="color: #5D4E37;"> å§“å </label> <input type="text" id="name" name="name" required placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å" class="w-full px-3 py-2 border-2 transition-all duration-200" style="border-color: #D4C4B0; background-color: #FFFBF5; color: #2C3E50;">
         </div><!-- Email Field -->
         <div class="opacity-0 animate-fade-in-up delay-300"><label for="email" class="block font-serif-tc text-sm font-medium mb-2" style="color: #5D4E37;"> é›»å­éƒµä»¶ </label> <input type="email" id="email" name="email" required placeholder="example@email.com" class="w-full px-3 py-2 border-2 transition-all duration-200" style="border-color: #D4C4B0; background-color: #FFFBF5; color: #2C3E50;">
         </div><!-- Subject Field -->
         <div class="opacity-0 animate-fade-in-up delay-300"><label for="subject" class="block font-serif-tc text-sm font-medium mb-2" style="color: #5D4E37;"> ä¸»æ—¨ </label> <input type="text" id="subject" name="subject" required placeholder="è«‹è¼¸å…¥éƒµä»¶ä¸»æ—¨" class="w-full px-3 py-2 border-2 transition-all duration-200" style="border-color: #D4C4B0; background-color: #FFFBF5; color: #2C3E50;">
         </div><!-- Message Field -->
         <div class="opacity-0 animate-fade-in-up delay-400"><label for="message" class="block font-serif-tc text-sm font-medium mb-2" style="color: #5D4E37;"> è¨Šæ¯ </label> <textarea id="message" name="message" rows="4" required placeholder="è«‹è¼¸å…¥æ‚¨æƒ³è©¢å•çš„å…§å®¹..." class="w-full px-3 py-2 border-2 transition-all duration-200 resize-none" style="border-color: #D4C4B0; background-color: #FFFBF5; color: #2C3E50;"></textarea>
         </div><!-- Submit Button -->
         <div class="pt-2 opacity-0 animate-fade-in-up delay-400"><button type="submit" id="submit-btn" class="w-full font-serif-tc text-base font-semibold py-3 px-6 transition-all duration-300 transform hover:scale-[1.01] hover:shadow-lg active:scale-[0.99]" style="background-color: #8B7355; color: #F5E6D3;"> <span id="btn-text">å¯„é€éƒµä»¶</span> <span id="btn-icon" class="ml-2">âœ‰ï¸</span> </button>
         </div>
        </form><!-- Success Message -->
        <div id="success-message" class="hidden text-center py-6">
         <div class="text-5xl mb-3">
          ğŸ‰
         </div>
         <h3 class="font-serif-tc text-lg font-semibold mb-2" style="color: #5D4E37;">éƒµä»¶å·²æº–å‚™å¥½ï¼</h3>
         <p class="text-sm mb-4" style="color: #8B7355;">æ‚¨çš„éƒµä»¶ç¨‹å¼å³å°‡é–‹å•Ÿ</p><button id="reset-btn" class="px-5 py-2 font-serif-tc text-sm transition-all duration-300 hover:opacity-80" style="background-color: #D4C4B0; color: #5D4E37;"> å†å¯„ä¸€å° </button>
        </div>
       </div>
      </div>
     </main><!-- Footer -->
     <footer class="mt-8 text-center opacity-0 animate-fade-in-up delay-400 w-full">
      <p class="font-serif-tc text-xs" style="color: #D4C4B0;">Â© <span id="year-range">1975-2025</span> ä¸‰å’Œæ£‰è¢«åº— Â· æº«æš–æ¯ä¸€å€‹å¤œæ™š</p>
     </footer>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      shop_name: 'ä¸‰å’Œæ£‰è¢«åº— San He',
      tagline: 'å‚³æ‰¿æº«æš–ãƒ»ç”¨å¿ƒè£½ä½œ',
      form_title: 'è¯çµ¡æˆ‘å€‘',
      send_button_text: 'å¯„é€éƒµä»¶',
      year_range: '1975-2025',
      background_color: '#2C3E50',
      card_color: '#F5E6D3',
      text_color: '#5D4E37',
      primary_action_color: '#8B7355',
      accent_color: '#D4C4B0',
      font_family: 'Noto Serif TC',
      font_size: 16
    };

    const EMAIL_ADDRESS = 'sanhe@techmeow.tw';

    async function onConfigChange(config) {
      // Update text content
      document.getElementById('shop-name').textContent = config.shop_name || defaultConfig.shop_name;
      document.getElementById('tagline').textContent = config.tagline || defaultConfig.tagline;
      document.getElementById('form-title').textContent = config.form_title || defaultConfig.form_title;
      document.getElementById('btn-text').textContent = config.send_button_text || defaultConfig.send_button_text;
      document.getElementById('year-range').textContent = config.year_range || defaultConfig.year_range;

      // Update colors
      const bgColor = config.background_color || defaultConfig.background_color;
      const cardColor = config.card_color || defaultConfig.card_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      const accentColor = config.accent_color || defaultConfig.accent_color;

      document.getElementById('app-wrapper').style.backgroundColor = bgColor;
      document.getElementById('shop-name').style.color = cardColor;
      document.getElementById('tagline').style.color = accentColor;
      
      const cardHeader = document.querySelector('.form-card-header');
      if (cardHeader) {
        cardHeader.style.backgroundColor = primaryColor;
      }
      
      const mainCard = document.querySelector('.form-card');
      if (mainCard) {
        mainCard.style.backgroundColor = cardColor;
      }

      document.getElementById('submit-btn').style.backgroundColor = primaryColor;
      document.getElementById('submit-btn').style.color = cardColor;

      // Update labels and text
      document.querySelectorAll('label').forEach(label => {
        label.style.color = textColor;
      });

      // Update font
      const fontFamily = config.font_family || defaultConfig.font_family;
      const baseSize = config.font_size || defaultConfig.font_size;
      
      document.getElementById('shop-name').style.fontFamily = `${fontFamily}, serif`;
      document.getElementById('shop-name').style.fontSize = `${baseSize * 2.5}px`;
      
      document.getElementById('tagline').style.fontFamily = `${fontFamily}, serif`;
      document.getElementById('tagline').style.fontSize = `${baseSize * 1}px`;
      
      document.getElementById('form-title').style.fontFamily = `${fontFamily}, serif`;
      document.getElementById('form-title').style.fontSize = `${baseSize * 1.3}px`;

      document.querySelectorAll('label, input, textarea, button, p').forEach(el => {
        el.style.fontFamily = `${fontFamily}, serif`;
      });
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => { config.background_color = value; window.elementSdk.setConfig({ background_color: value }); }
          },
          {
            get: () => config.card_color || defaultConfig.card_color,
            set: (value) => { config.card_color = value; window.elementSdk.setConfig({ card_color: value }); }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => { config.text_color = value; window.elementSdk.setConfig({ text_color: value }); }
          },
          {
            get: () => config.primary_action_color || defaultConfig.primary_action_color,
            set: (value) => { config.primary_action_color = value; window.elementSdk.setConfig({ primary_action_color: value }); }
          },
          {
            get: () => config.accent_color || defaultConfig.accent_color,
            set: (value) => { config.accent_color = value; window.elementSdk.setConfig({ accent_color: value }); }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => { config.font_family = value; window.elementSdk.setConfig({ font_family: value }); }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => { config.font_size = value; window.elementSdk.setConfig({ font_size: value }); }
        }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ['shop_name', config.shop_name || defaultConfig.shop_name],
        ['tagline', config.tagline || defaultConfig.tagline],
        ['form_title', config.form_title || defaultConfig.form_title],
        ['send_button_text', config.send_button_text || defaultConfig.send_button_text],
        ['year_range', config.year_range || defaultConfig.year_range]
      ]);
    }

    // Initialize SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    // Form handling
    const form = document.getElementById('contact-form');
    const successMessage = document.getElementById('success-message');
    const resetBtn = document.getElementById('reset-btn');

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const subject = document.getElementById('subject').value;
      const message = document.getElementById('message').value;
      
      const body = `å§“åï¼š${name}%0D%0Aå›è¦†éƒµä»¶ï¼š${email}%0D%0A%0D%0A${encodeURIComponent(message)}`;
      const mailtoLink = `mailto:${EMAIL_ADDRESS}?subject=${encodeURIComponent(subject)}&body=${body}`;
      
      window.open(mailtoLink, '_blank');
      
      form.classList.add('hidden');
      successMessage.classList.remove('hidden');
    });

    resetBtn.addEventListener('click', function() {
      form.reset();
      form.classList.remove('hidden');
      successMessage.classList.add('hidden');
    });

    // Add focus styles
    const inputs = document.querySelectorAll('input, textarea');
    inputs.forEach(input => {
      input.addEventListener('focus', function() {
        this.style.borderColor = '#8B7355';
        this.style.boxShadow = '0 0 0 2px rgba(139, 115, 85, 0.2)';
      });
      input.addEventListener('blur', function() {
        this.style.borderColor = '#D4C4B0';
        this.style.boxShadow = 'none';
      });
    });
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ccb0af9566da3ab',t:'MTc3MDg4ODM3MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
